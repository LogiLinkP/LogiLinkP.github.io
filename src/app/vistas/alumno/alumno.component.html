<div id="wrapper">
    
    <app-barra-lateral-alumno></app-barra-lateral-alumno>

    <div id="content-wrapper" class="d-flex flex-column">

        <div id="content">

            <app-barra-superior></app-barra-superior>

            <!-- Begin Page Content -->
            <div class="container-fluid">

                <!-- Page Heading -->
                <div class="row">
                        <div class="col-xl-10">
                            <h1 class="h3 mb-2 text-gray-800">Prácticas de {{ estudiante.usuario.nombre }} <br></h1>
                            <p class="mb-4">Aquí puedes ver tus prácticas cursadas, en curso o no iniciadas aún.</p>
                        </div>
                </div>
                
                <!-- For each nombre in nombres_distintos_config_practica, a collapse Card is made-->

                <div class="row" *ngFor="let practica of practicas_correspondiente_nombre;">
                    <div class="col-xl-12">
                        <div class="card shadow mb-4" >
                            <!-- Card Header - Accordion -->
                                                      
                            <!-- Decidir qué mostrar según si alumno tiene práctica registrada de ese tipo o no -->
                            <div [ngSwitch]="practica.length" >
                                
                                <!-- Carta que se muestra en caso de que alumno efectivamente tenga una practica registrada -->
                                <div *ngSwitchCase="2">
                                    <a href="#collapseCardExample" class="d-block card-header py-3" data-toggle="collapse" role="button" aria-expanded="true" aria-controls="collapseCardExample" v-on:click="getPractica(nombre)">
                                        <h2 class="m-0 font-weight-bold text-primary">{{ practica[0] }} </h2>
                                        <div class="m-0 text-gray-800">Estado: {{ practica[1].estado }}</div>
                                    </a>  
                                    <div  class="collapse show" id="collapseCardExample">
                                        <div class="card-body">
                                            <div class="row">
                                                <div class="col-xl-12">

                                                    <!-- Estructura interna de la carta -->
                                                    <div class="card-body">
                                                        <div class="overflow-auto">
                                                            <!-- tarjetas internas consistencia_informe y consistencia_nota-->
                                                            <div class="row" style="max-width: 100%;">

                                                                <!-- Tarjeta Info de práctica -->
                                                                <div class="col-xl-6">
                                                                    <div class="card shadow mb-4">
                                                                        <!-- Card Header - Accordion -->
                                                                        <a class="card-header py-3">
                                                                            <h4 class="m-0 font-weight-bold text-primary">Práctica</h4>
                                                                        </a>
                                                                        <!-- Card Content - Collapse -->
                                                                        <div class="collapse show" id="collapseCardExample">
                                                                            <div class="card-body">
                                                                                <table style="width:80%">
                                                                                    <tr>
                                                                                        <td>Estado:</td>
                                                                                        <td></td>
                                                                                    </tr>
                                                                                    <tr>
                                                                                        <td>Modalidad:</td>
                                                                                        <td></td>
                                                                                    </tr>
                                                                                    <tr>
                                                                                        <td>Fecha Inicio:</td>
                                                                                        <td></td>
                                                                                    </tr>
                                                                                    <tr>
                                                                                        <td>Fecha Término:</td>
                                                                                        <td></td>
                                                                                    </tr>
                                                                                    <tr>
                                                                                        <td>Progreso:</td>
                                                                                        <td></td>
                                                                                    </tr>
                                                                                    
                                                                                </table>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div><!-- Fin Tarjeta Información general -->

                                                                <!-- Tarjeta de Info de Empresa -->
                                                                <div class="col-xl-6">
                                                                    <div class="card shadow mb-4">
                                                                        <!-- Card Header - Accordion -->
                                                                        <a class="card-header py-3">
                                                                            <h4 class="m-0 font-weight-bold text-primary">Empresa</h4>
                                                                        </a>
                                                                        <!-- Card Content - Collapse -->
                                                                        <div class="collapse show" id="collapseCardExample">
                                                                            <div class="card-body">
                                                                                <table style="width:80%">
                                                                                    <tr>
                                                                                        <td>Nombre Empresa:</td>
                                                                                        <td></td>
                                                                                    </tr>
                                                                                    <tr>
                                                                                        <td>Nombre Supervisor:</td>
                                                                                        <td></td>
                                                                                    </tr>
                                                                                    <tr>
                                                                                        <td>Correo Supervisor:</td>
                                                                                        <td></td>
                                                                                    </tr>
                                                                                    <tr>
                                                                                        <td>Rut Empresa:</td>
                                                                                        <td></td>
                                                                                    </tr>
                                                                                    <tr>
                                                                                        <td>Empresa Verificada?:</td>
                                                                                        <td></td>
                                                                                    </tr>                                                                                    
                                                                                </table>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div><!-- Fin Tarjeta Información general -->
                                                            </div><!-- Fin de la fila -->
                                                            
                                                            <div class="row" style="max-width: 100%;">
                                                                <!-- Tarjeta Informes -->
                                                                <div class="col-xl-6">
                                                                    <div class="card shadow mb-4">
                                                                        <!-- Card Header - Accordion -->
                                                                        <a class="card-header py-3">
                                                                            <h4 class="m-0 font-weight-bold text-primary">Informes Realizados</h4>
                                                                        </a>
                                                                        <!-- Card Content - Collapse -->
                                                                        <div class="collapse show" id="collapseCardExample">
                                                                            <div class="card-body">
                                                                                <div class="overflow-auto">
                                                                                    <div class="table-responsive ">
                                                                                        <table class="table table-bordered hoverTable" id="dataTable"
                                                                                            width="100%" cellspacing="0">
                                                                                            <thead>
                                                                                                <tr>
                                                                                                    <th>Tipo</th>
                                                                                                    <th>Horas Trabajadas</th>
                                                                                                    <th>Fecha Subido</th>
                                                                                                    <th>Ver Informe</th>
                                                                                                </tr>
                                                                                            </thead>
                                                                                            <tbody>
                                                                                                <tr *ngFor="let informe of practica.informes;">
                                                                                                    <td>{{ informe.config_informe.tipo_informe }}</td>
                                                                                                    <td>{{ informe.horas_trabajadas }}</td>
                                                                                                    <td>{{ informe.fecha | date: 'dd/MM/yyyy' }}</td>
                                                                                                </tr>
                                                                                            </tbody>
                                                                                        </table>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div><!-- Fin Tarjeta Informes -->
                                        
                                                                <!-- Tarjeta Archivos -->
                                                                <div class="col-xl-6">
                                                                    <div class="card shadow mb-4">
                                                                        <!-- Card Header - Accordion -->
                                                                        <a class="card-header py-3">
                                                                            <h4 class="m-0 font-weight-bold text-primary">Archivos Subidos</h4>
                                                                        </a>
                                                                        <!-- Card Content - Collapse -->
                                                                        <div class="collapse show" id="collapseCardExample">
                                                                            <div class="card-body">
                                                                                <div class="overflow-auto">
                                                                                    <div class="table-responsive">
                                                                                        <table class="table table-bordered hoverTable" id="dataTable"
                                                                                            width="100%" cellspacing="0">
                                                                                            <thead>
                                                                                                <tr>
                                                                                                    <th>Archivo</th>
                                                                                                    <th>Formato</th>
                                                                                                    <th>Tipo Solicitud</th>
                                                                                                    <th>Descargar</th>
                                                                                                </tr>
                                                                                            </thead>
                                                                                            <tbody>
                                                                                                <tr *ngFor="let doc of practica.documentos;">
                                                                                                    <td>{{doc.solicitud_documento.nombre_solicitud}}</td>
                                                                                                    <td>{{doc.solicitud_documento.tipo_archivo}}</td>
                                                                                                    <td>Normal</td>
                                                                                                </tr>
                                                                                                <tr *ngFor="let doc_extra of practica.documento_extras;">
                                                                                                    <td>{{doc_extra.nombre_solicitud}}</td>
                                                                                                    <td>{{doc_extra.tipo_archivo}}</td>
                                                                                                    <td>Extra</td>
                                                                                                </tr>
                                                                                            </tbody>
                                                                                        </table>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div><!-- Fin Tarjeta Archivos -->
                                                            </div><!-- Fin Fila -->
                                                        </div>
                                                    </div><!-- Fin de tarjeta de estructura interna -->

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- Carta que se muestra en caso de que alumno no tenga una practica registrada -->
                                <div *ngSwitchCase="1">
                                    <a href="#collapseCardExample" class="d-block card-header py-3" data-toggle="collapse" role="button" aria-expanded="true" aria-controls="collapseCardExample" v-on:click="getPractica(nombre)">
                                        <h2 class="m-0 font-weight-bold text-primary">{{ practica[0] }}</h2>
                                        <div class="m-0 text-gray-800">Estado: No iniciada</div>
                                    </a>  
                                    <div  class="collapse show" id="collapseCardExample">
                                        <div class="card-body">
                                            <div class="row">
                                                <div class="col-xl-6">
                                                    
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>                        
                        </div>
                    </div>
                </div> <!-- End of row -->

            </div>
        </div>
    </div>
</div>

<app-logout-modal></app-logout-modal>